(function(e,t,n){function r(n,s){if(!t[n]){if(!e[n]){var o=typeof require=="function"&&require;if(!s&&o)return o(n,!0);if(i)return i(n,!0);throw new Error("Cannot find module '"+n+"'")}var u=t[n]={exports:{}};e[n][0].call(u.exports,function(t){var i=e[n][1][t];return r(i?i:t)},u,u.exports)}return t[n].exports}var i=typeof require=="function"&&require;for(var s=0;s<n.length;s++)r(n[s]);return r})({1:[function(e,t,n){function i(e){if(!e||toString.call(e)!=="[object Object]"||e.nodeType||e.setInterval)return!1;var t=hasOwnProperty.call(e,"constructor"),n=hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var i;for(i in e);return i===undefined||r.call(e,i)}var r=Object.prototype.hasOwnProperty;t.exports=function s(){var e,t,n,r,o,u,a=arguments[0]||{},f=1,l=arguments.length,c=!1;typeof a=="boolean"&&(c=a,a=arguments[1]||{},f=2),typeof a!="object"&&typeof a!="function"&&(a={});for(;f<l;f++)if((e=arguments[f])!=null)for(t in e){n=a[t],r=e[t];if(a===r)continue;c&&r&&(i(r)||(o=Array.isArray(r)))?(o?(o=!1,u=n&&Array.isArray(n)?n:[]):u=n&&i(n)?n:{},a[t]=s(c,u,r)):r!==undefined&&(a[t]=r)}return a}},{}],2:[function(e,t,n){var r=t.exports=function(e,t){t||(t=16),e===undefined&&(e=128);if(e<=0)return"0";var n=Math.log(Math.pow(2,e))/Math.log(t);for(var i=2;n===Infinity;i*=2)n=Math.log(Math.pow(2,e/i))/Math.log(t)*i;var s=n-Math.floor(n),o="";for(var i=0;i<Math.floor(n);i++){var u=Math.floor(Math.random()*t).toString(t);o=u+o}if(s){var a=Math.pow(t,s),u=Math.floor(Math.random()*a).toString(t);o=u+o}var f=parseInt(o,t);return f!==Infinity&&f>=Math.pow(2,e)?r(e,t):o};r.rack=function(e,t,n){var i=function(i){var o=0;do{if(o++>10){if(!n)throw new Error("too many ID collisions, use more bits");e+=n}var u=r(e,t)}while(Object.hasOwnProperty.call(s,u));return s[u]=i,u},s=i.hats={};return i.get=function(e){return i.hats[e]},i.set=function(e,t){return i.hats[e]=t,i},i.bits=e||128,i.base=t||16,i}},{}],3:[function(e,t,n){(function(){var n=e("extend"),r=e("hat"),i=t.exports={};i.diggerid=function(){return r()},i.littleid=function(e){e=e||6;var t="";for(var n=0;n<e;n++)t+="x";return t.replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})},i.escapeRegexp=function(e){return e.replace(/([\!\$\(\)\*\+\.\/\:\=\?\[\\\]\^\{\|\}])/g,"\\$1")},i.extend=n})()},{extend:1,hat:2}],4:[function(e,t,n){var r=t.exports.exists=function f(e,t){typeof t=="string"&&(t=t.split("."));if(t instanceof Array&&t.length!==0){t=t.slice();var n=t.shift();return typeof e!="object"||e===null?!1:t.length===0?Object.hasOwnProperty.apply(e,[n]):f(e[n],t)}return!1},i=t.exports.get=function l(e,t){typeof t=="string"&&(t=t.split("."));if(!(t instanceof Array&&t.length!==0))return;t=t.slice();var n=t.shift();if(typeof e!="object"||e===null)return;if(t.length===0)return e[n];if(t.length)return l(e[n],t)},s=t.exports.search=function c(e,t){typeof t=="string"&&(t=t.split("."));if(t instanceof Array&&t.length!==0){t=t.slice();var n=t.shift();if(typeof e!="object"||e===null)return;return n==="*"&&(n=".*"),typeof n=="string"&&(n=new RegExp(n)),t.length===0?Object.keys(e).filter(n.test.bind(n)).map(function(t){return e[t]}):Array.prototype.concat.apply([],Object.keys(e).filter(n.test.bind(n)).map(function(n){return c(e[n],t)}))}return},o=t.exports.put=function h(e,t,n){typeof t=="string"&&(t=t.split("."));if(!(t instanceof Array&&t.length!==0))return!1;t=t.slice();var r=t.shift();if(typeof e!="object"||e===null)return!1;if(t.length!==0)return typeof e[r]=="undefined"&&(e[r]={}),typeof e[r]!="object"||e[r]===null?!1:h(e[r],t,n);e[r]=n},u=t.exports.remove=function p(e,t,n){typeof t=="string"&&(t=t.split("."));if(t instanceof Array&&t.length!==0){t=t.slice();var r=t.shift();return typeof e!="object"||e===null?!1:t.length===0?Object.hasOwnProperty.call(e,r)?(delete e[r],!0):!1:p(e[r],t,n)}return!1},a=t.exports.deepKeys=function d(e,t){typeof t=="undefined"&&(t=[]);var n=[];for(var r in e){if(!Object.hasOwnProperty.call(e,r))continue;n.push(t.concat([r])),typeof e[r]=="object"&&e[r]!==null&&(n=n.concat(d(e[r],t.concat([r]))))}return n}},{}],5:[function(e,t,n){var r=e("./proto");t.exports=r.factory},{"./proto":6}],6:[function(e,t,n){function u(){}function a(){var e=[];if(typeof arguments[0]=="string"){var t=arguments[1]||{},n=t._digger||{};n.tag=arguments[0],t._digger=n,e=[t]}else Object.prototype.toString.call(arguments[0])=="[object Array]"?e=arguments[0]:typeof arguments[0]=="object"&&(e=[arguments[0]]);var r=function(){if(!r.supplychain)throw new Error("there is no supply chain attached to this container");return r.supplychain.select.apply(r,_.toArray(arguments))};return r.__proto__=new u,r.build(e),r}function f(e,t){return t?i.get(e,t):e}function l(e,t,n){return n?(i.put(e,n,t),t):t}function c(e,t){var n=[e];return t&&n.unshift(t),n.join(".")}function h(e){return function(t,n){var r=this;if(arguments.length<=0)return f(r.get(0),e);if(arguments.length===1&&typeof t=="string")return f(r.get(0),c(t,e));if(arguments.length===1)return r.models.forEach(function(t){l(t,n,e)}),r;if(arguments.length>1){var i=c(t,e);return r.models.forEach(function(e){l(e,n,i)}),r}}}function p(e,t){return function(n){var r=this;if(arguments.length<=0){var s=i.get(r.get(0),e);return s[t]}return r.models.forEach(function(r){var s=i.get(r,e);s[t]=n}),r}}function d(e){return function(t){var n=this,r=c(t,e);return n.models.forEach(function(e){i.remove(e,r)}),n}}var r=e("events").EventEmitter,i=e("dotty"),s=e("util"),o=e("digger-utils");u.factory=a,s.inherits(u,r),t.exports=u,u.prototype.build=function(e){this.models=e||[];for(var t in e){var n=e[t];n._digger||(n._digger={}),n._digger.diggerid||(n._digger.diggerid=o.diggerid())}return this},u.prototype.toJSON=function(){return this.models},u.prototype.spawn=function(e){e=e||[];var t=u.factory(e);return t.supplychain=this.supplychain,t},u.prototype.clone=function(){var e=JSON.parse(JSON.stringify(this.models)),t=this.spawn(e);return t.recurse(function(e){var t=e.get(0),n=t._digger||{};n.diggerid=o.diggerid(),t._digger=n}),t.ensure_parent_ids(),t},u.prototype.ensure_parent_ids=function(e){var t=this;e&&this.each(function(t){t.diggerparentid(e.diggerid())}),this.children().each(function(e){e.ensure_parent_ids(t)})},u.prototype.children=function(){var e=[],t=this;return this.each(function(t){e=e.concat(t.get(0)._children||[])}),this.spawn(e)},u.prototype.recurse=function(e){return this.descendents().each(e),this},u.prototype.descendents=function(){function t(n){e=e.concat(n.models),n.children().each(t)}var e=[];return t(this),this.spawn(e)},u.prototype.containers=function(){var e=this;return this.models.map(function(t){return e.spawn([t])})},u.prototype.skeleton=function(){return this.models.map(function(e){return e._digger||{}})},u.prototype.add=function(e){var t=this;return typeof e=="array"?e.each(function(e){t.add(e)}):this.models=this.models.concat(e.models),this},u.prototype.each=function(e){return this.containers().forEach(e),this},u.prototype.map=function(e){return this.containers().map(e)},u.prototype.count=function(){return this.models.length},u.prototype.first=function(){return this.eq(0)},u.prototype.last=function(){return this.eq(this.count()-1)},u.prototype.eq=function(e){return this.spawn(this.get(e))},u.prototype.get=function(e){return this.models[e]},u.prototype.attr=h(),u.prototype.digger=h("_digger"),u.prototype.data=h("_digger.data"),u.prototype.diggerid=p("_digger","diggerid"),u.prototype.diggerparentid=p("_digger","diggerparentid"),u.prototype.diggerwarehouse=p("_digger","diggerwarehouse"),u.prototype.id=p("_digger","id"),u.prototype.tag=p("_digger","tag"),u.prototype.classnames=p("_digger","class"),u.prototype.removeAttr=d(),u.prototype.removeDigger=d("_digger"),u.prototype.removeData=d("_digger.data"),u.prototype.is=function(e){return this.tag()==e},u.prototype.addClass=function(e){var t=this;return this.models.forEach(function(t){var n=t._digger.class||[],r=!1;n.forEach(function(t){t==e&&(r=!0)}),r||n.push(e),t._digger.class=n}),this},u.prototype.removeClass=function(e){var t=this;return this.models.forEach(function(t){var n=t._digger.class||[],r=[];n.forEach(function(t){t!=e&&r.push(t)}),t._digger.class=r}),this},u.prototype.hasClass=function(e){var t=!1;return(this.classnames()||[]).forEach(function(n){n==e&&(t=!0)}),t},u.prototype.hasAttr=function(e){var t=this.attr(e);return t!==null},u.prototype.isEmpty=function(){return this.count()===0},u.prototype.inject_data=function(e){return this.models.forEach(function(t){o.extend(t,e)}),this},u.prototype.diggerurl=function(){var e=this.diggerwarehouse(),t=this.diggerid(),n=e;return t&&this.tag()!="_supplychain"&&(e!="/"&&(n+="/"),n+=t),n},u.prototype.title=function(){var e=this.attr("name");return e||(e=this.attr("title")),e||(e=this.tag()),e},u.prototype.summary=function(e){e=e||{};var t=[],n=this.attr("name")||this.attr("title")||"";n.length>0&&e.title!==!1&&t.push(n+": "),t.push(this.tag());var r=this.id()||"";r.length>0&&t.push("#"+r);var i=this.classnames()||[];return i.length>0&&i.forEach(function(e){e.match(/\w/)&&t.push("."+e.replace(/^\s+/,"").replace(/\s+$/,""))}),t.join("")},u.prototype.toString=function(){return this.summary()}},{"digger-utils":3,dotty:4,events:7,util:8}],7:[function(e,t,n){(function(e){function i(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}e.EventEmitter||(e.EventEmitter=function(){});var t=n.EventEmitter=e.EventEmitter,r=typeof Array.isArray=="function"?Array.isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},s=10;t.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},t.prototype.emit=function(e){if(e==="error")if(!this._events||!this._events.error||r(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if(typeof t=="function"){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(r(t)){var n=Array.prototype.slice.call(arguments,1),i=t.slice();for(var s=0,o=i.length;s<o;s++)i[s].apply(this,n);return!0}return!1},t.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",e,t);if(!this._events[e])this._events[e]=t;else if(r(this._events[e])){if(!this._events[e].warned){var n;this._events.maxListeners!==undefined?n=this._events.maxListeners:n=s,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}this._events[e].push(t)}else this._events[e]=[this._events[e],t];return this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},t.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(r(n)){var s=i(n,t);if(s<0)return this;n.splice(s,1),n.length==0&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},t.prototype.removeAllListeners=function(e){return arguments.length===0?(this._events={},this):(e&&this._events&&this._events[e]&&(this._events[e]=null),this)},t.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),r(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}})(e("__browserify_process"))},{__browserify_process:9}],8:[function(e,t,n){function i(e){return e instanceof Array||Array.isArray(e)||e&&e!==Object.prototype&&i(e.__proto__)}function s(e){return e instanceof RegExp||typeof e=="object"&&Object.prototype.toString.call(e)==="[object RegExp]"}function o(e){if(e instanceof Date)return!0;if(typeof e!="object")return!1;var t=Date.prototype&&c(Date.prototype),n=e.__proto__&&c(e.__proto__);return JSON.stringify(n)===JSON.stringify(t)}function u(e){return e<10?"0"+e.toString(10):e.toString(10)}function f(){var e=new Date,t=[u(e.getHours()),u(e.getMinutes()),u(e.getSeconds())].join(":");return[e.getDate(),a[e.getMonth()],t].join(" ")}var r=e("events");n.isArray=i,n.isDate=function(e){return Object.prototype.toString.call(e)==="[object Date]"},n.isRegExp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(e,t,r,u){function h(e,r){if(e&&typeof e.inspect=="function"&&e!==n&&(!e.constructor||e.constructor.prototype!==e))return e.inspect(r);switch(typeof e){case"undefined":return f("undefined","undefined");case"string":var u="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f(u,"string");case"number":return f(""+e,"number");case"boolean":return f(""+e,"boolean")}if(e===null)return f("null","null");var p=l(e),d=t?c(e):p;if(typeof e=="function"&&d.length===0){if(s(e))return f(""+e,"regexp");var v=e.name?": "+e.name:"";return f("[Function"+v+"]","special")}if(o(e)&&d.length===0)return f(e.toUTCString(),"date");var m,g,y;i(e)?(g="Array",y=["[","]"]):(g="Object",y=["{","}"]);if(typeof e=="function"){var b=e.name?": "+e.name:"";m=s(e)?" "+e:" [Function"+b+"]"}else m="";o(e)&&(m=" "+e.toUTCString());if(d.length===0)return y[0]+m+y[1];if(r<0)return s(e)?f(""+e,"regexp"):f("[Object]","special");a.push(e);var w=d.map(function(t){var n,s;e.__lookupGetter__&&(e.__lookupGetter__(t)?e.__lookupSetter__(t)?s=f("[Getter/Setter]","special"):s=f("[Getter]","special"):e.__lookupSetter__(t)&&(s=f("[Setter]","special"))),p.indexOf(t)<0&&(n="["+t+"]"),s||(a.indexOf(e[t])<0?(r===null?s=h(e[t]):s=h(e[t],r-1),s.indexOf("\n")>-1&&(i(e)?s=s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):s="\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=f("[Circular]","special"));if(typeof n=="undefined"){if(g==="Array"&&t.match(/^\d+$/))return s;n=JSON.stringify(""+t),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=f(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=f(n,"string"))}return n+": "+s});a.pop();var E=0,S=w.reduce(function(e,t){return E++,t.indexOf("\n")>=0&&E++,e+t.length+1},0);return S>50?w=y[0]+(m===""?"":m+"\n ")+" "+w.join(",\n  ")+" "+y[1]:w=y[0]+m+" "+w.join(", ")+" "+y[1],w}var a=[],f=function(e,t){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[t];return r?"["+n[r][0]+"m"+e+"["+n[r][1]+"m":e};return u||(f=function(e,t){return e}),h(e,typeof r=="undefined"?2:r)};var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(e){},n.pump=null;var l=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},c=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.hasOwnProperty.call(e,n)&&t.push(n);return t},h=Object.create||function(e,t){var n;if(e===null)n={__proto__:null};else{if(typeof e!="object")throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return typeof t!="undefined"&&Object.defineProperties&&Object.defineProperties(n,t),n};n.inherits=function(e,t){e.super_=t,e.prototype=h(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};var p=/%[sdj%]/g;n.format=function(e){if(typeof e!="string"){var t=[];for(var r=0;r<arguments.length;r++)t.push(n.inspect(arguments[r]));return t.join(" ")}var r=1,i=arguments,s=i.length,o=String(e).replace(p,function(e){if(e==="%%")return"%";if(r>=s)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":return JSON.stringify(i[r++]);default:return e}});for(var u=i[r];r<s;u=i[++r])u===null||typeof u!="object"?o+=" "+u:o+=" "+n.inspect(u);return o}},{events:7}],9:[function(e,t,n){var r=t.exports={};r.nextTick=function(){var e=typeof window!="undefined"&&window.setImmediate,t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){if(e.source===window&&e.data==="process-tick"){e.stopPropagation();if(n.length>0){var t=n.shift();t()}}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")}},{}]},{},[5]);